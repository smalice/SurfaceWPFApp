<s:SurfaceWindow 
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:s="http://schemas.microsoft.com/surface/2008" 
    xmlns:cs="clr-namespace:CapgeminiSurface" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    mc:Ignorable="d" 
    x:Class="CapgeminiSurface.CapgeminiSurfaceWindow"
    Title="CapgeminiSurface"
    Width="1024"    
    Height="768"
    >
  <s:SurfaceWindow.Resources>
    <ImageBrush 
        x:Key="WindowBackground" 
        Stretch="None" 
        Opacity="0.6" 
        ImageSource="pack://application:,,,/Resources/WindowBackground.jpg" />
    <Storyboard x:Key="RevealFavouriteStack">
    	<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="favouriteStack">
    		
            <SplineDoubleKeyFrame KeyTime="0" Value="0.01"/>
    		<SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="1"/>
    	</DoubleAnimationUsingKeyFrames>
    	<Int32AnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.ZIndex)" Storyboard.TargetName="favouriteStack">
    		<SplineInt32KeyFrame KeyTime="0" Value="2"/>
    	</Int32AnimationUsingKeyFrames>
        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="favouriteStack">
            <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
        </ObjectAnimationUsingKeyFrames>
        </Storyboard>
    <Storyboard x:Key="HideFavouriteStack">
    	<Int32AnimationUsingKeyFrames Storyboard.TargetProperty="(Panel.ZIndex)" Storyboard.TargetName="favouriteStack">
    		<SplineInt32KeyFrame KeyTime="0" Value="2"/>
    		<SplineInt32KeyFrame KeyTime="0:0:0.4" Value="2"/>
    		<SplineInt32KeyFrame KeyTime="0:0:0.5" Value="0"/>
    	</Int32AnimationUsingKeyFrames>
    	<DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="favouriteStack">
    		<SplineDoubleKeyFrame KeyTime="0" Value="1"/>
    		<SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="0"/>
    	</DoubleAnimationUsingKeyFrames>
    	<ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.Visibility)" Storyboard.TargetName="favouriteStack">
    		<DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
    		<DiscreteObjectKeyFrame KeyTime="0:0:0.5" Value="{x:Static Visibility.Hidden}"/>
    	</ObjectAnimationUsingKeyFrames>
    </Storyboard>
        
    </s:SurfaceWindow.Resources>
	<s:SurfaceWindow.Triggers>
		<EventTrigger RoutedEvent="FrameworkElement.Loaded"/>
		<EventTrigger RoutedEvent="FrameworkElement.Loaded"/>
	</s:SurfaceWindow.Triggers>
	<s:SurfaceWindow.Background>
		<RadialGradientBrush>
			<GradientStop Color="White" Offset="0.013"/>
			<GradientStop Color="{DynamicResource {x:Static SystemColors.ActiveCaptionColorKey}}" Offset="1"/>
		</RadialGradientBrush>
	</s:SurfaceWindow.Background>
    
    <Grid        
           x:Name="surfaceMainGrid"
           Background="{StaticResource WindowBackground}" >
        <cs:MenuLogo 
            Grid.Row="1"
            Grid.Column="1"
            x:Name="Logo"
            Panel.ZIndex="2"
            />
        <cs:FavouriteStack 
            x:Name="favouriteStack" 
            HorizontalAlignment="Left" 
            VerticalAlignment="Top" 
            RenderTransformOrigin="0.5,0.5" 
            Margin="8,0,0,0">
        	<cs:FavouriteStack.RenderTransform>
        		<TransformGroup>
        			<ScaleTransform/>
        			<SkewTransform/>
        			<RotateTransform/>
        			<TranslateTransform X="355" Y="235"/>
        		</TransformGroup>
        	</cs:FavouriteStack.RenderTransform>
        </cs:FavouriteStack>
        <cs:ParticleSystemManager
            x:Name="particleSystem"/>
    </Grid>

</s:SurfaceWindow>
